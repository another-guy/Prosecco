<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Prosecco by another-guy</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Prosecco</h1>
      <h2 class="project-tagline">Simplifies SQL database querying a bit</h2>
      <a href="https://github.com/another-guy/Prosecco" class="btn">View on GitHub</a>
      <a href="https://github.com/another-guy/Prosecco/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/another-guy/Prosecco/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h2>
<a id="synopsis" class="anchor" href="#synopsis" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Synopsis</h2>

<p><a href="https://github.com/another-guy/Prosecco"><img src="https://github.com/another-guy/Prosecco/raw/master/Prosecco.png" alt="Prosecco"></a></p>

<p>Simplifies SQL database querying a bit</p>

<h2>
<a id="code-example" class="anchor" href="#code-example" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Code Example</h2>

<p>SqlClient creation:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">var</span> sqlClient = <span class="pl-k">new</span> SqlClient(regularConnectionString);</pre></div>

<p>ExecuteNonQueryAsync:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">var</span> rowsAffected = <span class="pl-k">await</span> sqlClient.ExecuteNonQueryAsync(
    <span class="pl-s"><span class="pl-pds">"</span>INSERT INTO dbo.Users (Username) VALUES (@username)<span class="pl-pds">"</span></span>,
    <span class="pl-k">new</span> Dictionary&lt;<span class="pl-k">string</span>, <span class="pl-k">object</span>&gt;
    {
        { <span class="pl-s"><span class="pl-pds">"</span>@username<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Vasile Pupkeanu<span class="pl-pds">"</span></span> }
    });</pre></div>

<p>ExecuteReaderAsync:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">var</span> userList = <span class="pl-k">await</span> sql.ExecuteReaderAsync(
    <span class="pl-s"><span class="pl-pds">"</span>SELECT Id, Username FROM dbo.Task WHERE Id = @id<span class="pl-pds">"</span></span>,
    <span class="pl-k">new</span> Dictionary&lt;<span class="pl-k">string</span>, <span class="pl-k">object</span>&gt;
    {
        { <span class="pl-s"><span class="pl-pds">"</span>@id<span class="pl-pds">"</span></span>, userId },
    },
    reader =&gt;
    {
        <span class="pl-k">var</span> result = <span class="pl-k">new</span> List&lt;User&gt;();
        <span class="pl-k">while</span> (reader.Read())
        {
            result.Add(<span class="pl-k">new</span> User
            {
                Id = reader.GetString(<span class="pl-c1">0</span>),
                Username = reader.GetString(<span class="pl-c1">1</span>)
            });
        }
        <span class="pl-k">return</span> result;
    });</pre></div>

<p>ExecuteScalarAsync:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">var</span> userName = <span class="pl-k">await</span> sql.ExecuteScalarAsync(
    <span class="pl-s"><span class="pl-pds">"</span>SELECT Name FROM dbo.Task WHERE Id = @id<span class="pl-pds">"</span></span>,
    <span class="pl-k">new</span> Dictionary&lt;<span class="pl-k">string</span>, <span class="pl-k">object</span>&gt;
    {
        { <span class="pl-s"><span class="pl-pds">"</span>@id<span class="pl-pds">"</span></span>, userId },
    });</pre></div>

<p>ExecuteXmlReaderAsync:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">var</span> userList = <span class="pl-k">await</span> sql.ExecuteXmlReaderAsync(
    <span class="pl-s"><span class="pl-pds">"</span>SELECT Id, Username FROM dbo.Task WHERE Id = @id<span class="pl-pds">"</span></span>,
    <span class="pl-k">new</span> Dictionary&lt;<span class="pl-k">string</span>, <span class="pl-k">object</span>&gt;
    {
        { <span class="pl-s"><span class="pl-pds">"</span>@id<span class="pl-pds">"</span></span>, userId },
    },
    xmlReader =&gt;
    {
        <span class="pl-k">var</span> result = <span class="pl-k">new</span> List&lt;User&gt;();

        <span class="pl-c">// populate result object from the xmlReader</span>

        <span class="pl-k">return</span> result;
    });</pre></div>

<h2>
<a id="motivation" class="anchor" href="#motivation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Motivation</h2>

<p>Syntax sugar is syntax sugar: it's not a necessary thing per se but it can improve code quality.</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p>Prosecco is a available in a form of a NuGet package.
Follow regular installation process to bring it to your project.
<a href="https://www.nuget.org/packages/Prosecco/">https://www.nuget.org/packages/Prosecco/</a></p>

<h2>
<a id="tests" class="anchor" href="#tests" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Tests</h2>

<p>Unit tests are available in Prosecco.Tests project.</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>The code is distributed under the MIT license.</p>

<h2>
<a id="reporting-an-issue" class="anchor" href="#reporting-an-issue" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Reporting an Issue</h2>

<p>Reporting an issue, proposing a feature, or asking a question are all great ways to improve software quality.</p>

<p>Here are a few important things that package contributors will expect to see in a new born GitHub issue:</p>

<ul>
<li>the relevant version of the package;</li>
<li>the steps to reproduce;</li>
<li>the expected result;</li>
<li>the observed result;</li>
<li>some code samples illustrating current inconveniences and/or proposed improvements.</li>
</ul>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contributing</h2>

<p>Contribution is the best way to improve any project!</p>

<ol>
<li>Fork it!</li>
<li>Create your feature branch (<code>git checkout -b my-new-feature</code>).</li>
<li>Commit your changes (<code>git commit -am 'Added some feature'</code>)</li>
<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
<li>Create new Pull Request</li>
</ol>

<p>...or follow steps described in a nice <a href="http://kbroman.org/github_tutorial/pages/fork.html">fork guide</a> by Karl Broman</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/another-guy/Prosecco">Prosecco</a> is maintained by <a href="https://github.com/another-guy">another-guy</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
